{% extends 'base.html' %} {% block content %}
<div class="card">
  <h2>Renegociar Dívida #{{ divida.id }}</h2>

  <div
    style="
      margin: 16px 0;
      padding: 12px;
      background: #f8fafc;
      border-radius: 8px;
    "
  >
    <div class="row between">
      <div>
        <div class="muted" style="font-size: 0.85rem">Cliente</div>
        <div><strong>{{ divida.cliente.nome }}</strong></div>
      </div>
      <div>
        <div class="muted" style="font-size: 0.85rem">Saldo Devedor Atual</div>
        <div><strong>R$ {{ '%.2f'|format(divida.saldo_devedor) }}</strong></div>
      </div>
    </div>
    <div style="margin-top: 8px">
      <div class="muted" style="font-size: 0.85rem">Vencimento Atual</div>
      <div>{{ divida.data_vencimento }}</div>
    </div>
    {% if divida.descricao %}
    <div style="margin-top: 8px">
      <div class="muted" style="font-size: 0.85rem">Descrição</div>
      <div>{{ divida.descricao }}</div>
    </div>
    {% endif %}
  </div>

  <form method="post" style="display: flex; flex-direction: column; gap: 14px">
    <div>
      <label>Novo Prazo (dias a partir de hoje)</label>
      <input type="number" name="prazo_dias" value="30" min="1" required />
      <small class="muted">Quantos dias para o novo vencimento</small>
    </div>

    <div>
      <label>Juros (%)</label>
      <input type="number" step="0.01" name="juros" value="0.00" min="0" />
      <small class="muted"
        >Percentual de juros sobre o saldo devedor atual</small
      >
    </div>

    <div class="row" style="gap: 8px; margin-top: 8px">
      <button class="btn" type="submit">⚡ Confirmar Renegociação</button>
      <a href="{{ url_for('main.home') }}" class="btn ghost">Cancelar</a>
    </div>
  </form>
</div>

<style>
  small.muted {
    display: block;
    margin-top: 4px;
    font-size: 0.82rem;
  }
</style>
{% endblock %}
